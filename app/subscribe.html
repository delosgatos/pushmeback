<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <link rel="manifest" href="manifest_json">
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js"></script>
    <!--<script>
        window.OneSignal = window.OneSignal || [];
        window.__POSTDATA = {
            session: '',
            promptType: 'popup',
            parentHostname: 'push',
            autoAccept: '',
            dangerouslyWipeData: '',
        };
        function addCssClass(targetSelectorOrElement, cssClass) {
            if (typeof targetSelectorOrElement === 'string')
                document.querySelector(targetSelectorOrElement).classList.add(cssClass);
            else if (typeof targetSelectorOrElement === 'object')
                targetSelectorOrElement.classList.add(cssClass);
            else
                throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');
        }

        function removeCssClass(targetSelectorOrElement, cssClass) {
            if (typeof targetSelectorOrElement === 'string')
                document.querySelector(targetSelectorOrElement).classList.remove(cssClass);
            else if (typeof targetSelectorOrElement === 'object')
                targetSelectorOrElement.classList.remove(cssClass);
            else
                throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');
        }

        function hasCssClass(targetSelectorOrElement, cssClass) {
            if (typeof targetSelectorOrElement === 'string')
                return document.querySelector(targetSelectorOrElement).classList.contains(cssClass);
            else if (typeof targetSelectorOrElement === 'object')
                return targetSelectorOrElement.classList.contains(cssClass);
            else
                throw new Error(targetSelectorOrElement + ' must be a CSS selector string or DOM Element object.');
        }

        function getUrlQueryParam(name) {
            var url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        var entityMap = {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': '&quot;',
            "'": '&#39;',
            "/": '&#x2F;'
        };

        function escapeHtml(string) {
            return String(string).replace(/[&<>"'\/]/g, function (s) {
                return entityMap[s];
            });
        }


        var SDK_VERSION_POSTMAM = 109163;
        var SDK_VERSION_POPUP_POSTMESSAGE_REVERSE = 110040;
        var isHttpsPrompt = location.search.indexOf("httpsPrompt=true") > -1 || false;
        var isModal = location.search.indexOf("promptType=modal") > -1 || false;
        var isPopup = (location.search.indexOf("promptType=popup") > -1) || true;
        var autoAccept = location.search.indexOf("autoAccept=true") > -1 || false;
        var httpPermissionRequest = location.search.indexOf("httpPermissionRequest=true") > -1 || false;
        var parentHostname = getUrlQueryParam('parentHostname') || 'push';
        var timeout = getUrlQueryParam('timeout') || '';
        if (!timeout) {
            timeout = 15000;
        }
        console.log('Timeout value:', timeout);
        var isPushEnabled = null;
        var isPermissionBlocked = null;
        var title = parentHostname;
        var notificationOrigin = "pushback.onesignal.com";
        var subscription = null;

        if (isHttpsPrompt) {
            isPushEnabled = (location.search.indexOf("pushEnabled=true") > -1) || false;
            isPermissionBlocked = location.search.indexOf("permissionBlocked=true") > -1 || false;
            if (parent && document.referrer) {
                title = escapeHtml(document.referrer.match(/:\/\/(.[^/]+)/)[1]);
                notificationOrigin = title;
            }
        }

        title = "Clickscloud";

        /**
         * Displays the user-configurable title at the top of the popup (e.g. 'BowieNet Notifications').
         */
        function addDynamicPopupTitle() {
            window.addEventListener('DOMContentLoaded', function () {
                var elements = document.querySelectorAll('[data-dynamic=title]');
                for (var i = 0; i < elements.length; i++) {
                    var element = elements[i];
                    element.innerHTML = title;
                }
            });
        }
        addDynamicPopupTitle();

        /**
         * Displays the origin at the bottom of the example notification (e.g. origin.onesignal.com).
         */
        function addDynamicNotificationOrigin() {
            window.addEventListener('DOMContentLoaded', function () {
                var elements = document.querySelectorAll('[data-dynamic=origin]');
                for (var i = 0; i < elements.length; i++) {
                    var element = elements[i];
                    element.innerHTML = notificationOrigin;
                }
            });
        }
        addDynamicNotificationOrigin();

        /* ACCEPTING OR REJECTING NOTIFICATIONS */
        function acceptPrompt() {
            console.log('Calling acceptPrompt()');
            OneSignal.push(function () {
                if (isHttpsPrompt) {
                    if (parent) {
                        if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                            OneSignal.modalPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.MODAL_PROMPT_ACCEPTED);
                        } else {
                            parent.postMessage({
                                httpsPromptAccepted: true,
                                from: OneSignal.environment.getEnv()
                            }, "*");
                        }
                    }
                } else {
                    if (!autoAccept) {
                        showOverlay();
                    }
                    if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                        OneSignal.setSubscription(true)
                            .then(function () {
                                if (Number(OneSignal._VERSION) >= SDK_VERSION_POPUP_POSTMESSAGE_REVERSE) {
                                    OneSignal.popupPostmam.message(OneSignal.POSTMAM_COMMANDS.POPUP_ACCEPTED);
                                } else {
                                    OneSignal.popupPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.POPUP_ACCEPTED);
                                }
                                OneSignal._initPopup.apply(this.window);
                                window.blur();
                                this.opener.focus();
                            });
                    } else {
                        OneSignal._initHttp({
                            appId: "fe99c120-da25-47cb-8ab9-394acacedcba",
                            subdomainName: "pushback",
                            origin: "http://push",
                            continuePressed: true
                        });
                        if (opener) {
                            opener.postMessage({
                                httpPromptAccepted: true,
                                from: OneSignal.environment.getEnv()
                            }, "*");
                        }
                    }
                }
            });
        }

        function rejectPrompt() {
            console.log('Calling rejectPrompt()');
            OneSignal.push(function () {
                if (isHttpsPrompt) {
                    if (parent) {
                        if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                            OneSignal.modalPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.MODAL_PROMPT_REJECTED);
                        } else {
                            parent.postMessage({
                                httpsPromptCanceled: true,
                                from: OneSignal.environment.getEnv()
                            }, "*");
                        }
                    }
                } else {
                    if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                        if (OneSignal.environment.isPopup()) {
                            if (Number(OneSignal._VERSION) >= SDK_VERSION_POPUP_POSTMESSAGE_REVERSE) {
                                OneSignal.popupPostmam.message(OneSignal.POSTMAM_COMMANDS.POPUP_REJECTED);
                            } else {
                                OneSignal.popupPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.POPUP_REJECTED);
                            }
                        } else if (OneSignal.environment.isIframe()) {
                            OneSignal.iframePostmam.postMessage(OneSignal.POSTMAM_COMMANDS.POPUP_REJECTED);
                        }
                    } else {
                        if (opener) {
                            opener.postMessage({
                                httpPromptCanceled: true,
                                from: OneSignal.environment.getEnv()
                            }, "*");
                        }
                    }
                    window.close();
                }
            });
        }

        function retryPrompt() {
            OneSignal.push(function () {
                OneSignal.getNotificationPermission(function (permission) {
                    if (permission === 'denied') {
                        showStillBlocked();
                    }
                    else {
                        location.reload();
                    }
                });
            });
        }
    </script>-->
    <style>html,body{margin:0;padding:0;background-color:#f6f6f6;width:100%;height:100%;overflow:hidden;font-size:14px}#overlay{transition:opacity 400ms ease;position:fixed;top:0;left:0;width:100%;height:100%}#overlay.type-disabled{background-color:#F9F9F9}#overlay.state-inactive{z-index:-1;opacity:0}#overlay.state-active{z-index:1000;opacity:.75}#content{width:100%;height:100%;box-sizing:border-box;padding:2em;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:flex-end}#content.mobile section#blocked footer{position:initial;display:-ms-flexbox;display:flex}#content footer{position:absolute;bottom:2em;right:2em;width:100%}#content .retry-blocked-message{color:red;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;max-width:150px}#content .retry-blocked-message.invisible{visibility:hidden}#content .retry-blocked-message a{color:red}#content .retry-blocked-message a:visited{color:red}#content .contents{width:100%;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding-bottom:3em}#content .title,#content .subtitle{font-family:inherit;text-align:center}#content .title{font-size:1.429em;font-weight:500;max-width:360px;margin:0 auto}#content .subtitle{font-size:1.143em;font-weight:300;line-height:1.714em;color:#666;margin:.714em auto 2.143em;max-width:360px}#content .notification{box-sizing:border-box;margin:0 auto;margin-bottom:1.5em;width:360px;max-width:97%;height:80px;box-shadow:0 2px 12px 0 rgba(0,0,0,0.25)}#content .notification .icon{float:left;width:80px}#content .notification .icon img{width:80px;height:80px}#content .notification .body{background:#fff;box-sizing:border-box;float:left;width:calc(100% - 80px);height:100%;padding:.51em 1.286em .5em 1.15em;position:relative}#content .notification .heading,#content .notification .content,#content .notification .origin{font-family:Helvetica,"Helvetica Neue",Arial,sans-serif;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#content .notification .heading{font-size:14px;color:#333;margin-bottom:.5em}#content .notification .content{font-size:13px;color:#373737}#content .notification .origin{position:absolute;font-size:12px;color:#999;bottom:.5em;width:calc(100% - 80px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#content .notification{display:block}#content .notification:after{content:'';display:block;height:0;clear:both;visibility:hidden}#content .notice{font-style:italic;font-weight:300;color:#999;font-size:12px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#content section#blocked{background:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;top:0;bottom:0;left:0;right:0;position:absolute;padding:1.714em}#content section#blocked .unblock-image{background-size:contain;width:100%;height:100%;background-repeat:no-repeat;background-position:center center}#content section#blocked .message{font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:1.143em;line-height:1.45em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;color:#666;margin-bottom:2em;margin-top:1em}#content section#blocked .popup-button.secondary{padding:.714em 2em}#content section#blocked footer{position:initial;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;margin-top:3em}#content section#autoaccept{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#content section#already-enabled{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}#content section#already-enabled .title{margin-bottom:2em}#content section#already-enabled a{font-size:1.15em}#content section#already-enabled a,#content section#already-enabled a:visited{text-decoration:none;color:#4285F4}#content section#already-enabled a:hover{text-decoration:underline;color:#4285F4}.state-hidden{display:none!important}.state-shown{display:block!important}.align-right{float:right}button{box-sizing:border-box;display:inline-block;padding:.375rem 1rem;font-size:.9625em;font-weight:400;line-height:1.5;text-align:center;white-space:nowrap;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:1px solid transparent;border-radius:.25rem;font-family:inherit;letter-spacing:.05em;transition:background-color 75ms ease;margin:0;outline:none}.popup-button{padding:.714em 2em;font-size:1.206em;border-radius:2px;font-weight:400;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.popup-button.primary{box-shadow:0 2px 5px 0 rgba(0,0,0,0.16),0 2px 6px 0 rgba(0,0,0,0.12);background:#4285F4;color:#fff}.popup-button.primary:hover{background:#1e6ef2}.popup-button.primary:active{background:#0d5bdd}.popup-button.secondary{box-shadow:none;background:transparent;color:#4285F4}.popup-button.secondary:hover{color:#0e60e9}.popup-button.secondary:active{color:#083c92}.popup-button.primary.popup-button+.popup-button.secondary.popup-button{margin-right:.714em}.subscribeText{font-family:Helvetica Neue,Helvetica,Arial,sans-serif}@keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.loading{width:28px;height:28px;margin:1.5em auto}.loading .maskedCircle{width:20px;height:20px;border-radius:12px;border:3px solid #a7a7a7}.loading .mask{width:12px;height:12px;overflow:hidden}.loading .spinner{left:1px;top:1px;width:26px;height:26px;animation:spin 1s infinite linear}</style>
</head>
<body>

<div id="content">
    <section id="unblocked">
        <div class="contents">
            <div class="title" data-dynamic="title"></div>
            <div class="subtitle">Здравствуйте! Мы хотели бы держать вас в курсе наших событий!</div>
            <div class="notification">
                <div class="icon">
                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDdBOEVEMjU3RTgwMTFFNUIzMjFCOUQ0QjUzN0Q0NDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDdBOEVEMjY3RTgwMTFFNUIzMjFCOUQ0QjUzN0Q0NDYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDODdGODRDMDdEMTMxMUU1QjMyMUI5RDRCNTM3RDQ0NiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpEN0E4RUQyNDdFODAxMUU1QjMyMUI5RDRCNTM3RDQ0NiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pttyb1cAAACySURBVHja7N2xDUMhDEBBO0rJ33++SNkAJKqET1YwTYp7hUV9smtyzvmKiCtUqecG/OzHg0Wp7w9ucCg3bN5hAAECBAhQAAECBCiAAAECFECAAAEKIECAAAUQIECAAggQIEABBAgQoAACBAhQZ4CZSe4EcK1FzgkDBAhQAAECBAhQAAECBCiAAAECFECAAAEKIECAAAUQIECAAggQIEABBPivgA1Dufbc4x2+w6jWbwEGAJZEES0DZiYyAAAAAElFTkSuQmCC">
                </div>
                <div class="body">
                    <div class="heading">Пример нотификации</div>
                    <div class="content">Это пример текста нотификации</div>
                    <div class="origin" data-dynamic="origin"></div>
                </div>
            </div>
            <div class="unsubscribe notice">Вы можете отписаться в любое время</div>
        </div>
        <!--<footer>
            <button id="unblocked-allow" class="align-right primary popup-button">РАЗРЕШИТЬ</button>
            <button id="unblocked-cancel" class="align-right secondary popup-button">НЕТ</button>
        </footer>-->
    </section>
</div>



<script>
    window.enableAutoSubscribe = true;
</script>
<script src="scripts/main.js"></script>

<!--<script>
    !function(e,t){typeof module!="undefined"&&module.exports?module.exports=t():typeof define=="function"&&define.amd?define(t):this[e]=t()}("bowser",function(){function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=/like android/i.test(t),o=!s&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),a=!u&&/nexus\s*[0-9]+/i.test(t),f=/CrOS/.test(t),l=/silk/i.test(t),c=/sailfish/i.test(t),h=/tizen/i.test(t),p=/(web|hpw)os/i.test(t),d=/windows phone/i.test(t),v=!d&&/windows/i.test(t),m=!i&&!l&&/macintosh/i.test(t),g=!o&&!c&&!h&&!p&&/linux/i.test(t),y=n(/edge\/(\d+(\.\d+)?)/i),b=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t),E=!w&&/[^-]mobi/i.test(t),S=/xbox/i.test(t),x;/opera|opr|opios/i.test(t)?x={name:"Opera",opera:e,version:b||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(t)?x={name:"Opera Coast",coast:e,version:b||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(t)?x={name:"Yandex Browser",yandexbrowser:e,version:b||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?x={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?x={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?x={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?x={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?x={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?x={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:d?(x={name:"Windows Phone",windowsphone:e},y?(x.msedge=e,x.version=y):(x.msie=e,x.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?x={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:f?x={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(t)?x={name:"Microsoft Edge",msedge:e,version:y}:/vivaldi/i.test(t)?x={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||b}:c?x={name:"Sailfish",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?x={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(x={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(x.firefoxos=e)):l?x={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?x={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?x={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?x={name:"BlackBerry",blackberry:e,version:b||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(x={name:"WebOS",webos:e,version:b||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(x.touchpad=e)):/bada/i.test(t)?x={name:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:h?x={name:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(t)?x={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(t)?x={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?x={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?x={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(x={name:"Safari",safari:e},b&&(x.version=b)):i?(x={name:i=="iphone"?"iPhone":i=="ipad"?"iPad":"iPod"},b&&(x.version=b)):/googlebot/i.test(t)?x={name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||b}:x={name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!x.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(x.name=x.name||"Blink",x.blink=e):(x.name=x.name||"Webkit",x.webkit=e),!x.version&&b&&(x.version=b)):!x.opera&&/gecko\//i.test(t)&&(x.name=x.name||"Gecko",x.gecko=e,x.version=x.version||n(/gecko\/(\d+(\.\d+)?)/i)),!x.msedge&&(o||x.silk)?x.android=e:i?(x[i]=e,x.ios=e):m?x.mac=e:S?x.xbox=e:v?x.windows=e:g&&(x.linux=e);var T="";x.windowsphone?T=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i?(T=n(/os (\d+([_\s]\d+)*) like mac os x/i),T=T.replace(/[_\s]/g,".")):o?T=n(/android[ \/-](\d+(\.\d+)*)/i):x.webos?T=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):x.blackberry?T=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):x.bada?T=n(/bada\/(\d+(\.\d+)*)/i):x.tizen&&(T=n(/tizen[\/\s](\d+(\.\d+)*)/i)),T&&(x.osversion=T);var N=T.split(".")[0];if(w||a||i=="ipad"||o&&(N==3||N>=4&&!E)||x.silk)x.tablet=e;else if(E||i=="iphone"||i=="ipod"||o||u||x.blackberry||x.webos||x.bada)x.mobile=e;return x.msedge||x.msie&&x.version>=10||x.yandexbrowser&&x.version>=15||x.vivaldi&&x.version>=1||x.chrome&&x.version>=20||x.firefox&&x.version>=20||x.safari&&x.version>=6||x.opera&&x.version>=10||x.ios&&x.osversion&&x.osversion.split(".")[0]>=6||x.blackberry&&x.version>=10.1||x.chromium&&x.version>=20?x.a=e:x.msie&&x.version<10||x.chrome&&x.version<20||x.firefox&&x.version<20||x.safari&&x.version<6||x.opera&&x.version<10||x.ios&&x.osversion&&x.osversion.split(".")[0]<6||x.chromium&&x.version<20?x.c=e:x.x=e,x}function r(e){return e.split(".").length}function i(e,t){var n=[],r;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r++)n=t(e[r]);return n}function s(e){var t=Math.max(r(e[0]),r(e[1])),n=i(e,function(e){var n=t-r(e);return e+=(new Array(n+1)).join(".0"),i(e.split("."),function(e){return(new Array(20-e.length)).join("0")+e}).reverse()});while(&#45;&#45;t>=0){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(t===0)return 0}}function o(e,r,i){var o=n;typeof r=="string"&&(i=r,r=void 0),r===void 0&&(r=!1),i&&(o=t(i));var u=""+o.version;for(var a in e)if(e.hasOwnProperty(a)&&o[a]&&s([u,e[a]])<0)return!0;return r}function u(e,t){return!o(e,t)}var e=!0,n=t(typeof navigator!="undefined"?navigator.userAgent:"");return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if(typeof r=="string"&&r in n)return!0}return!1},n.isUnsupportedBrowser=o,n.compareVersions=s,n.check=u,n._detect=t,n})
</script>-->
<!--<script>
    debugger;
    function showOverlay() {
        addCssClass('#overlay', 'state-active');
        removeCssClass('#overlay', 'state-inactive');
    }

    function hideOverlay() {
        addCssClass('#overlay', 'state-inactive');
        removeCssClass('#overlay', 'state-active');
    }

    function addDynamicBlockedMessage() {
        var elements = document.querySelectorAll('[data-dynamic=blocked-message]');
        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            element.innerHTML = bowser.name + ' is currently blocking notifications.<br/>Please follow these instructions' +
                ' to subscribe:';
        }
    }
    addDynamicBlockedMessage();

    function addDynamicBlockedImage() {
        var elements = document.querySelectorAll('[data-dynamic=blocked-image]');

        var imageUrl = null;
        if (bowser.chrome) {
            if (!bowser.mobile && !bowser.tablet) {
                imageUrl = '/images/popover/Unblock-Chrome.png';
            } else {
                imageUrl = '/images/popover/Unblock-Android.png';
            }
        }
        else if (bowser.firefox)
            imageUrl = '/images/popover/Unblock-Firefox.png';
        else if (bowser.safari)
            imageUrl = '/images/popover/Unblock-Safari.png';

        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            element.style.backgroundImage = 'url(' + imageUrl + ')';
        }
    }

    function setDynamicBlockedLearnMore() {
        var elements = document.querySelectorAll('[data-dynamic=blocked-learn-more]');

        var blockedUrl = null;
        if (bowser.chrome) {
            blockedUrl = 'https://support.google.com/chrome/answer/3220216?hl=en';
        }
        else if (bowser.firefox)
            blockedUrl = 'https://support.mozilla.org/en-US/kb/push-notifications-firefox?as=u&utm_source=inproduct#w_how-do-i-revoke-web-push-permissions-from-a-specific-site';
        else if (bowser.safari)
            blockedUrl = 'https://support.apple.com/kb/PH21445?locale=en_US&viewlocale=en_US';

        for (var i = 0; i < elements.length; i++) {
            var element = elements[i];
            element.href = blockedUrl;
        }
    }
    setDynamicBlockedLearnMore();

    function detectMobile() {
        if (bowser.mobile) {
            addCssClass('#content', 'mobile');
        }
    }
    detectMobile();

    function setDialogState(state) {
        removeCssClass('#content', 'state-hidden');
        addCssClass('#unblocked', 'state-hidden');
        addCssClass('#blocked', 'state-hidden');
        addCssClass('#autoaccept', 'state-hidden');
        addCssClass('#httpPermissionRequest', 'state-hidden');
        addCssClass('#already-enabled', 'state-hidden');
        removeCssClass('#' + state, 'state-hidden');
    }

    function showUnblockedDialog() {
        setDialogState('unblocked');
    }

    function showBlockedDialog() {
        setDialogState('blocked');
        addDynamicBlockedImage();
    }

    function showAutoAccept() {
        setDialogState('autoaccept');
        acceptPrompt();
    }

    function showHttpPermissionRequest() {
        setDialogState('httpPermissionRequest');
        acceptPrompt();
    }

    function showAlreadyEnabled() {
        setDialogState('already-enabled');
    }

    function showStillBlocked() {
        removeCssClass('.retry-blocked-message', 'invisible');
    }

    function timeoutWindow() {
        OneSignal.push(function () {
            if (isHttpsPrompt) {
                if (parent) {
                    OneSignal.modalPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.WINDOW_TIMEOUT);
                }
            } else {
                if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                    if (OneSignal.environment.isPopup()) {
                        if (Number(OneSignal._VERSION) >= SDK_VERSION_POPUP_POSTMESSAGE_REVERSE) {
                            OneSignal.popupPostmam.message(OneSignal.POSTMAM_COMMANDS.WINDOW_TIMEOUT);
                        } else {
                            OneSignal.popupPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.WINDOW_TIMEOUT);
                        }
                    } else if (OneSignal.environment.isIframe()) {
                        OneSignal.iframePostmam.postMessage(OneSignal.POSTMAM_COMMANDS.WINDOW_TIMEOUT);
                    }
                }
                window.close();
            }
        });
    }

    function checkWindowCloseTimeout() {
        console.log('Called checkWindowCloseTimeout()')
        if (timeout) {
            var future = Math.max(0, timeout - performance.now());
            console.log('Setting force window close timeout to ' + future + ' milliseconds.');
            setTimeout(function() {
                console.log('Closing window because timeout was exceeded.');
                timeoutWindow();
            }, future);
        }
    }

    document.querySelector('#unblocked-allow').addEventListener('click', function(event) {
        acceptPrompt();
    });

    document.querySelector('#unblocked-cancel').addEventListener('click', function(event) {
        rejectPrompt();
    });

    document.querySelector('#blocked-retry').addEventListener('click', function(event) {
        retryPrompt();
    });

    document.querySelector('#blocked-cancel').addEventListener('click', function(event) {
        rejectPrompt();
    });
</script>
<script>
    OneSignal.push(function() {
        if (!OneSignal.isPushNotificationsSupported()) {
            throw new Error('Push notifications are not supported on this browser.');
        }

        OneSignal.on('httpInitialize', function () {
            if (isHttpsPrompt) {
                if (parent && Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                    console.log('Sending modal loaded message to main page.');
                    OneSignal.modalPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.MODAL_LOADED);
                }
            } else {
                if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                    console.log('Sending popup loaded message to main page.');
                    if (Number(OneSignal._VERSION) >= SDK_VERSION_POPUP_POSTMESSAGE_REVERSE) {
                        OneSignal.popupPostmam.message(OneSignal.POSTMAM_COMMANDS.POPUP_LOADED);
                    } else {
                        OneSignal.popupPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.POPUP_LOADED);
                    }
                }
            }

            if (isHttpsPrompt) {
                if (isPermissionBlocked) {
                    showBlockedDialog();
                }
                if (isPushEnabled) {
                    showAlreadyEnabled();
                } else {
                    showUnblockedDialog();
                }
            } else { // HTTP
                if (Notification.permission == "denied")
                    showBlockedDialog();
                else if (Notification.permission == "granted") {
                    OneSignal._initOptions = {};
                    (OneSignal.isPushNotificationsEnabled(function (enabled) {
                        if (httpPermissionRequest) {
                            console.log('Showing HTTP permission request section.');
                            showHttpPermissionRequest();
                            checkWindowCloseTimeout();
                        } else {
                            if (enabled) {
                                showAlreadyEnabled();
                                checkWindowCloseTimeout();
                            } else {
                                if (autoAccept) {
                                    showAutoAccept();
                                } else {
                                    showUnblockedDialog();
                                }
                            }
                        }
                    }));
                } else {
                    if (autoAccept) {
                        showAutoAccept();
                    } else {
                        showUnblockedDialog();
                    }
                }
            }
        });

        OneSignal.push(function () {
            if (Number(OneSignal._VERSION) > SDK_VERSION_POSTMAM) {
                OneSignal._initHttp.apply(this.window, [{
                    appId: "fe99c120-da25-47cb-8ab9-394acacedcba",
                    subdomainName: "pushback",
                    origin: "http://push",
                    isPopup: isPopup,
                    isModal: isModal,
                }]);

                window.onunload = function () {
                    if (OneSignal.environment.isPopup()) {
                        if (Number(OneSignal._VERSION) >= SDK_VERSION_POPUP_POSTMESSAGE_REVERSE) {
                            OneSignal.popupPostmam.message(OneSignal.POSTMAM_COMMANDS.POPUP_CLOSING);
                        } else {
                            OneSignal.popupPostmam.postMessage(OneSignal.POSTMAM_COMMANDS.POPUP_CLOSING);
                        }
                    } else if (OneSignal.environment.isIframe()) {
                        OneSignal.iframePostmam.postMessage(OneSignal.POSTMAM_COMMANDS.POPUP_CLOSING);
                    }
                };
            }
        });
    });
</script>-->
</body>
</html>